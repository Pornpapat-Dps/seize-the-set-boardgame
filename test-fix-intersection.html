<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="utf-8">
<title>Test Empty Set + Intersection Fix</title>
<style>
body { font-family: Arial, sans-serif; padding: 20px; }
.test-result { margin: 10px 0; padding: 10px; border-radius: 5px; }
.success { background-color: #d4edda; color: #155724; }
.error { background-color: #f8d7da; color: #721c24; }
</style>
</head>
<body>
<h1>üß™ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç Empty Set + Intersection</h1>
<div id="results"></div>

<script>
function logResult(message, isSuccess = true) {
  const div = document.createElement('div');
  div.className = `test-result ${isSuccess ? 'success' : 'error'}`;
  div.textContent = message;
  document.getElementById('results').appendChild(div);
}

// ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏ô‡πÄ‡∏Å‡∏°
const mockBoard = {
  'A1': 'black',
  'B2': 'white', 
  'C3': 'black',
  'D4': 'white'
};

logResult('‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏î‡∏™‡∏≠‡∏ö: ‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏ô‡∏°‡∏µ‡πÄ‡∏ö‡∏µ‡πâ‡∏¢ 4 ‡∏ä‡πà‡∏≠‡∏á (‡∏î‡∏≥ 2, ‡∏Ç‡∏≤‡∏ß 2)');

// ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ Empty Set + Intersection
function testEmptySetIntersection() {
  logResult('‡∏ó‡∏î‡∏™‡∏≠‡∏ö: Empty Set + Intersection ‡∏Ñ‡∏ß‡∏£‡∏•‡∏ö‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡∏ù‡πà‡∏≤‡∏¢');
  
  // ‡∏´‡∏≤‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ö‡∏ô‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏ô (‡∏ï‡∏≤‡∏° logic ‡πÉ‡∏´‡∏°‡πà)
  const allTokens = [];
  for (const pos in mockBoard) {
    if (mockBoard[pos]) {
      allTokens.push(pos);
    }
  }
  
  logResult(`‡∏û‡∏ö‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: ${allTokens.length} ‡∏ä‡πà‡∏≠‡∏á (${allTokens.join(', ')})`);
  
  // ‡∏•‡∏ö‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
  allTokens.forEach(pos => {
    delete mockBoard[pos];
  });
  
  // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
  const remainingTokens = Object.keys(mockBoard).filter(pos => mockBoard[pos]);
  
  if (remainingTokens.length === 0) {
    logResult('‚úÖ ‡∏ú‡πà‡∏≤‡∏ô: ‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ñ‡∏π‡∏Å‡∏•‡∏ö‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß');
    logResult('‚úÖ ‡∏ú‡πà‡∏≤‡∏ô: Empty Set + Intersection ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á');
  } else {
    logResult(`‚ùå ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß: ‡∏¢‡∏±‡∏á‡∏°‡∏µ‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏≠‡∏¢‡∏π‡πà ${remainingTokens.length} ‡∏ä‡πà‡∏≠‡∏á`, false);
  }
}

// ‡∏ó‡∏î‡∏™‡∏≠‡∏ö logic ‡πÄ‡∏Å‡πà‡∏≤ (‡∏Ñ‡∏ß‡∏£‡∏à‡∏∞‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß)
function testOldLogic() {
  logResult('‡∏ó‡∏î‡∏™‡∏≠‡∏ö: Logic ‡πÄ‡∏Å‡πà‡∏≤ (‡∏•‡∏ö‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ù‡πà‡∏≤‡∏¢‡∏ï‡∏£‡∏á‡∏Ç‡πâ‡∏≤‡∏°) - ‡∏Ñ‡∏ß‡∏£‡∏à‡∏∞‡∏ú‡∏¥‡∏î');
  
  const mockBoardOld = { 'A1': 'black', 'B2': 'white', 'C3': 'black', 'D4': 'white' };
  const currentPlayer = 'black';
  const opponentColor = 'white';
  
  // ‡∏´‡∏≤‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏ù‡πà‡∏≤‡∏¢‡∏ï‡∏£‡∏á‡∏Ç‡πâ‡∏≤‡∏° (logic ‡πÄ‡∏Å‡πà‡∏≤)
  const opponentTokens = [];
  for (const pos in mockBoardOld) {
    if (mockBoardOld[pos] === opponentColor) {
      opponentTokens.push(pos);
    }
  }
  
  // ‡∏•‡∏ö‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏ù‡πà‡∏≤‡∏¢‡∏ï‡∏£‡∏á‡∏Ç‡πâ‡∏≤‡∏°
  opponentTokens.forEach(pos => {
    delete mockBoardOld[pos];
  });
  
  const remainingTokens = Object.keys(mockBoardOld).filter(pos => mockBoardOld[pos]);
  
  if (remainingTokens.length > 0) {
    logResult(`‚ùå Logic ‡πÄ‡∏Å‡πà‡∏≤‡∏ú‡∏¥‡∏î: ‡∏¢‡∏±‡∏á‡∏°‡∏µ‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏≠‡∏¢‡∏π‡πà ${remainingTokens.length} ‡∏ä‡πà‡∏≠‡∏á (${remainingTokens.map(pos => mockBoardOld[pos]).join(', ')})`, false);
    logResult('‚úÖ ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ô‡∏µ‡πâ‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô');
  }
}

// ‡∏£‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö
testOldLogic();
logResult('---');
testEmptySetIntersection();

logResult('---');
logResult('‡∏™‡∏£‡∏∏‡∏õ: Empty Set + Intersection ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡πâ‡∏ß');
logResult('‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏•‡∏ö‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡∏ù‡πà‡∏≤‡∏¢‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ö‡∏ô‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏ô');
</script>
</body>
</html>